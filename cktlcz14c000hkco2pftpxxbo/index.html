<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="三无Coding机"><title>New Blog,New Life——hexo入坑指北 | 三无Coding机</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/images/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/images/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">New Blog,New Life——hexo入坑指北</h1><a id="logo" href="/.">三无Coding机</a><p class="description"></p></div><div id="nav-menu"><a href="/"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">New Blog,New Life——hexo入坑指北</h1><div class="post-meta">Mar 14, 2019<span> | </span><span class="category"><a href="/categories/Technology/">Technology</a></span></div><a class="disqus-comment-count" href="/cktlcz14c000hkco2pftpxxbo/#vcomment"><span class="valine-comment-count" data-xid="/cktlcz14c000hkco2pftpxxbo/"></span><span> 条评论</span></a><div class="post-content"><p>虽然感觉有点坑，但是终于东搜西搜弄好了自己的 hexo（这里要吐槽一下官方文档是真的简洁），那么第一篇 post 就来记录一下建站的过程吧（好吧我 WP 上的文章会尽快迁移过来的）</p>
<h4 id="为什么选择-hexo？"><a href="#为什么选择-hexo？" class="headerlink" title="为什么选择 hexo？"></a>为什么选择 hexo？</h4><p>首先很大部分还是为了主题（漂亮才是关键）….虽然说本来的 WP 主题也还不错，但是看到了这个“大道至简”的主题是真的被打动了，于是就生起了搭 hexo 的小心思。另外，WP 和 hexo 的主题库风格对比是真的明显，花里胡哨和小清新的强烈对比（当然也有用途不同的原因了，WP 的用处更多一点）。对了，说起主题，我当初就是看 <a href="https://tomotoes.com" target="_blank" rel="noopener">tomotoes</a> 这个 blog 动心的，甚至一度让我有手写自己的主题的强烈意愿，当然因为没有设计师而打消了这个念头（所以有没有设计可以帮我设计一套主题啊 😫😫）</p>
<p>其次，hexo 是静态博客，非常轻量（当然在你不插入大量图片或者 Live2D 的情况下），对于一个菜鸡的个人 blog 来说 WP 的很多功能根本就用不到，而在 hexo，加个 valine 的评论系统就足够用了，也算是可以避免（暂时不存在的）一些安全问题？总的来说，部署完之后享受到了秒开的感觉真的不错 23333</p>
<p>最后，hexo 是用 markdown 写作的喂！！！！！！说到 markdown 我们就想起了 Typora，体验真的太好了！！！！WP 那个垃圾编辑器根本不能比（就算是我找的 Elementor 之类的扩展编辑器也不能比，可能它们的优势在于不同的布局吧，但是这也是我用不上的）。另外，WP 的代码高亮插件是真的捉鸡，虽然这主题的默认 highlight 也有点不是很好看，但是我研究了一下，还是可以直接对着 highlight.js 的 css 直接改成 atom-one-dark 的。总的来说，hexo 的写作方式对于我这种只写个人生活和 Coding 的已经足够了，嗯，而且再次用回 Typora 写 markdown 真的舒服！</p>
<p>这里我就不写本地hexo怎么配置、主题这些东西了，官网和百度都说得挺详细</p>
<h4 id="服务器的准备工作"><a href="#服务器的准备工作" class="headerlink" title="服务器的准备工作"></a>服务器的准备工作</h4><p>因为在Github上配置比较简单，而且我觉得还是放在自己服务器比较好（不然服务器就真的晾着了），所以就讲讲怎么在自己的服务器上部署吧</p>
<p>首先我们需要：git，新建git用户，本地电脑也需要git并生成ssh key：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git bash(local)</span></span><br><span class="line">$ ssh-keygen</span><br><span class="line"><span class="comment">#这里生成的key在C:/Users/XXXX/.ssh下</span></span><br></pre></td></tr></table></figure>

<p>为了能让git的ssh和ubuntu的分开，我们在/home下新建git文件夹，并建好ssh相关文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home</span><br><span class="line">mkdir git</span><br><span class="line"><span class="built_in">cd</span> git</span><br><span class="line">mkdir git-shell-commands  <span class="comment">#这里要建立这个文件夹git shell才能正常工作</span></span><br><span class="line">mkdir .ssh</span><br><span class="line"><span class="built_in">cd</span> .ssh</span><br><span class="line">vim authorized_keys</span><br><span class="line"><span class="comment">#加上你的本地git生成的public key</span></span><br></pre></td></tr></table></figure>

<p>这里有一些限制git shell权限的操作，我直接从<a href="https://blog.csdn.net/qq_35561857/article/details/81590953" target="_blank" rel="noopener">这里</a>copy一下了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells   <span class="comment">#查看`git-shell`是否在登录方式里面，有则跳过</span></span><br><span class="line"><span class="built_in">which</span> git-shell   <span class="comment">#查看是否安装</span></span><br><span class="line">vim /etc/shells</span><br><span class="line"><span class="comment">#添加上2步显示出来的路劲，通常在 /usr/bin/git-shell</span></span><br><span class="line">vim /etc/passwd</span><br><span class="line"><span class="comment">#把 git:x:1000:1000::/home/git:/bin/bash</span></span><br><span class="line"><span class="comment">#修改为 git:x:1000:1000:,,,:/home/git:/usr/bin/git-shell</span></span><br></pre></td></tr></table></figure>

<p>然后在某个地方创建一个仓库（不是网站根目录就好了），我们使用git hook同步到网站艮目录，这里我选择/home/git吧：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这里我全程用root操作的</span></span><br><span class="line"><span class="built_in">cd</span> /home/git</span><br><span class="line">mkdir repos &amp;&amp; <span class="built_in">cd</span> repos</span><br><span class="line">git init --bare blog.git  <span class="comment">#创建一个裸露的空仓库</span></span><br><span class="line"><span class="built_in">cd</span> blog.git/hooks</span><br><span class="line">vim post-receive   <span class="comment">#创建hook钩子函数</span></span><br><span class="line"><span class="comment">#输入如下内容：</span></span><br><span class="line"><span class="comment">#  #!/bin/sh</span></span><br><span class="line"><span class="comment">#  git --work-tree=/home/git/projects/blog --git-dir=/home/git/repos/blog.git checkout -f</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  work-tree后面是你的网站根目录</span></span><br><span class="line"><span class="comment">#退出，用下面命令修改权限</span></span><br><span class="line">chmod +x post-receive</span><br><span class="line">chown -R git:git /home/git/repos/blog.git   <span class="comment">#添加权限</span></span><br></pre></td></tr></table></figure>

<p>接下来我们尝试下在本地把空仓库拉下来（用ip不要用域名），如果能拉下来，就说明成功了</p>
<h4 id="Deploy到服务器"><a href="#Deploy到服务器" class="headerlink" title="Deploy到服务器"></a>Deploy到服务器</h4><p>在本地，我们要先安装插件hexo-deployer-git，然后配置<code>_config.yml</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">- repo:</span> <span class="string">git@server_ip:/home/git/repos/blog.git</span></span><br><span class="line"><span class="attr">- branch:</span> <span class="string">published</span>   <span class="comment">#我是直接master的好像也没什么影响2333</span></span><br><span class="line"><span class="attr">- message:</span> <span class="comment">#自选</span></span><br></pre></td></tr></table></figure>

<p>然后在本地写好，执行<code>hexo clean && hexo g -d</code>就可以推送到服务器啦~~（之前没有生成的话可以去掉<code>hexo clean</code>）</p>
<p>如果推送不成功，可以先检查一下有没有生成 .deploy_git 文件夹或者手动删除它和public文件夹，其他情况只能一个个排查啦~~</p>
<p>写了半天终于写完了，休养生息的日子里也把博客迁移了，就当是自己新的出发点吧，嗯~ o(<em>￣▽￣</em>)o</p>
</div><div class="tags"><a href="/tags/hexo/">hexo</a></div><div class="post-nav"><a class="pre" href="/cktlcz1410006kco2aritcet1/">Vuex学习笔记</a><a class="next" href="/cktlcz1400005kco2x94o4cpw/">Spring boot+graphql+Mongodb构建</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'H4H3950lA1Fthbi035SyDPz3-gzGzoHsz',
  appKey:'PfHYNRTMjosLxypwFjyz2PlN',
  placeholder:'comment...',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://silasfan.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/">Technology</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/漫想/">漫想</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/GraphQL/" style="font-size: 15px;">GraphQL</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/WebAssembly/" style="font-size: 15px;">WebAssembly</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/JAVA/" style="font-size: 15px;">JAVA</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/cktlcz14s0019kco28jxdf2ny/">聊聊看VUP这件事</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14n0010kco2g6qv8fex/">愿你我尚有余地做梦</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz146000akco2eo9spj3r/">Install wasm in Win10</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14i000qkco2234sj5ik/">心上点点秋</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1450009kco2b3cfhsv0/">flex的两个小坑记录</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1410006kco2aritcet1/">Vuex学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14c000hkco2pftpxxbo/">New Blog,New Life——hexo入坑指北</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1400005kco2x94o4cpw/">Spring boot+graphql+Mongodb构建</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14l000xkco2qvbbowna/">是适合跑步的日子啊</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14u001dkco23qy61ze2/">踏着灰色的轨迹</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.xzclip.cn/" title="某鸡巨佬" target="_blank">某鸡巨佬</a><ul></ul><a href="https://www.huww98.cn/" title="大佬" target="_blank">大佬</a><ul></ul><a href="http://www.guohere.com/" title="某果" target="_blank">某果</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Fetter Copyright © 2021<br> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><br><a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">粤ICP备 17148289号</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>