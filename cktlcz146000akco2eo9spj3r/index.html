<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="ä¸‰æ— Codingæœº"><title>Install wasm in Win10 | ä¸‰æ— Codingæœº</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/images/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/images/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Install wasm in Win10</h1><a id="logo" href="/.">ä¸‰æ— Codingæœº</a><p class="description"></p></div><div id="nav-menu"><a href="/"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Install wasm in Win10</h1><div class="post-meta">Dec 18, 2019<span> | </span><span class="category"><a href="/categories/Technology/">Technology</a></span></div><a class="disqus-comment-count" href="/cktlcz146000akco2eo9spj3r/#vcomment"><span class="valine-comment-count" data-xid="/cktlcz146000akco2eo9spj3r/"></span><span> æ¡è¯„è®º</span></a><div class="post-content"><p>å…ˆæ„Ÿè°¢<a href="https://developer.mozilla.org/zh-CN/docs/WebAssembly/C_to_wasm" target="_blank" rel="noopener">Firefoxçš„æ–‡æ¡£</a>ï¼Œè‡³å°‘æ²¡æœ‰â€å¦‚æœæ˜¯Win10ï¼Œå»ºè®®å®‰è£…åœ¨WSLä¸Šâ€œçš„åŠé€€è­¦å‘Š23333</p>
<p>ä¸è¿‡å‡†ç¡®çš„æ¥è¯´ä¹Ÿä¸æ˜¯å®‰è£…wasmï¼Œè€Œæ˜¯å®‰è£… Emscripten è¿™ä¸ªå¯ä»¥ç¼–è¯‘C/C++åˆ°wasmçš„ç¼–è¯‘å™¨</p>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹æˆ‘å¼€å§‹çš„å®‰è£…æ–¹æ³•ï¼ˆå…¶å®ä¹Ÿä¸å‚»ç“œå•¦2333ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>
<p>éœ€è¦çš„ä¾èµ–ï¼š<code>CMake</code>ã€<code>Visual Studio</code>å’Œå®ƒçš„<code>MSVC Compiler</code>ï¼ˆæˆ‘è‡ªå·²æœ‰<code>MinGW64</code>ä½†æ˜¯è¿˜æ˜¯ç¼–è¯‘ä¸äº†ï¼‰</p>
<p><strong>noticeï¼šä»¥ä¸‹æ­¥éª¤å…¨éƒ¨åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹è¿è¡Œï¼ï¼</strong></p>
<p>å…ˆæ‰¾ä¸ªæ–‡ä»¶å¤¹å‡†å¤‡å®‰è£…å®ƒï¼Œç„¶åï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/juj/emsdk.git</span><br><span class="line"><span class="built_in">cd</span> emsdk</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™è¡Œéå¸¸é‡è¦ï¼ï¼çœ‹äº†å¥½å¤šåœ°æ–¹å¥½åƒéƒ½æ²¡æœ‰ç›´æ¥æåˆ°ä¸€é”®å®‰è£…çš„latestå‘½ä»¤</span></span><br><span class="line">emsdk install --build=Release latest</span><br></pre></td></tr></table></figure>

<p>ç„¶åå®‰è£…ç¨‹åºå°±ä¼šç»™ä½ æŠŠæ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬å•¥llvmã€pythonã€javaã€nodeï¼‰å…¨å®‰è£…åˆ°å®ƒä¸‹é¢ï¼ˆä¸è¿‡ä¸ç”¨æ…Œï¼Œåé¢æˆ‘ä»¬å¯ä»¥è§£å†³ä¸ç°æœ‰çš„ç¨‹åºçš„å†²çªï¼‰</p>
<p>ç­‰å¾…å®‰è£…å®Œæˆåï¼Œè¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emsdk activate --global --build=Release latest</span><br></pre></td></tr></table></figure>

<br>

<p>ç„¶åå°±æ˜¯é‡å¤´æˆäº†ï¼ï¼å®‰è£…ä¸€ä¸‹<code>binaryen-master-64bit</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emsdk install --build=Release binaryen-master-64bit</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€æ­¥ä¼šåˆ†æˆä¸¤ä¸ªå°æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯<code>git clone</code>æºç ä¸‹æ¥ï¼Œç¬¬äºŒæ­¥æ˜¯è°ƒç”¨<code>Cmake</code>ç¼–è¯‘æºç </p>
<p>å¦‚æœç”µè„‘é‡Œçš„<code>Visual Studio</code>ç‰ˆæœ¬è¿˜æ˜¯<code>13</code>/<code>15</code>/<code>17</code>çš„è¯ï¼Œåœ¨ä¸Šé¢çš„å‘½ä»¤åé¢åŠ ä¸Š<code>--vs2013</code>/<code>--vs2015</code>/<code>--vs2017</code>çš„å‚æ•°çš„è¯ï¼Œåº”è¯¥ç¼–è¯‘æ²¡å•¥é—®é¢˜</p>
<p>ä½†æ˜¯å¦‚æœåƒæˆ‘è¿™æ ·è£…äº†<code>vs2019</code>æˆ–è€…ä¸Šé¢çš„è¿˜æ˜¯å‡ºé—®é¢˜çš„è¯ï¼Œæˆ‘ä»¬å°±è¦æ‰‹åŠ¨ä½¿ç”¨<code>Cmake</code>ç¼–è¯‘äº†ï¼š</p>
<p>æ‰“å¼€<code>Cmake-GUI</code>ï¼Œé€‰æ‹©ä¸‹è½½çš„æºç å’Œè¾“å‡ºæ–‡ä»¶å¤¹ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/images/wasm1.png" alt></p>
<p>å…ˆç‚¹å‡»èœå•æ ä¸­çš„<code>File -- Delete Cache</code>æ¸…é™¤ä¹‹å‰çš„makeç¼“å­˜ï¼Œç„¶åç‚¹å‡»Configureï¼Œåœ¨å¼¹å‡ºæ¥çš„çª—å£ä¸­é€‰æ‹©å½“å‰ç”µè„‘ä¸Šæœ‰çš„Compilerï¼Œåœ¨Windowsä¸Šæœ€å¥½è¿˜æ˜¯ç”¨VSçš„å§ï¼Œåƒè¿™æ ·ï¼š</p>
<p><img src="/images/wasm2.png" alt></p>
<p>ç„¶åç‚¹Finishï¼Œå°±ä¼šå‡ºç°ç¬¬ä¸€å¼ å›¾çš„æƒ…å†µäº†ï¼Œç„¶åæˆ‘ä»¬ç›´æ¥ç‚¹<code>Generate</code>ï¼Œå¼€å§‹make</p>
<p>makeå®Œæˆä¹‹åï¼Œè¿˜éœ€è¦åƒä¸Šé¢ä¸€æ ·Activateï¼Œè¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emsdk activate --global --build=Release binaryen-master-64bit</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çš„<code>Emscripten</code>å°±è£…å¥½å•¦~~</p>
<br>

<p>ç„¶åæˆ‘ä»¬æ¥è§£å†³ä¸Šé¢çš„ä¾èµ–å’Œç°æœ‰ç¨‹åºå†²çªçš„é—®é¢˜ï¼Œæ‰“å¼€ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¤šäº†è¿™ä¹ˆä¸€äº›ä¸œè¥¿ï¼š</p>
<p><code>EMSDK_NODE</code></p>
<p><code>EMSDK_PYTHON</code></p>
<p><code>JAVA_HOME</code>ä¹Ÿè¢«ä¿®æ”¹äº†</p>
<p><code>PATH</code>é‡Œé¢å¤šäº†ä¸¤è¡Œï¼Œåˆ†åˆ«æ˜¯emsdkæ–‡ä»¶å¤¹ã€Emscriptençš„æ–‡ä»¶å¤¹</p>
<p>è¦æ”¹å›æ¥çš„è¯ç›´æ¥æ”¹å°±å¥½äº†</p>
<p>ä½†æ˜¯æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™é‡Œåæ¨å›æ¥åªå®‰è£…<code>Emscripten</code>éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡å’Œç¨‹åºï¼Œå°±æ˜¯å¤šå‡ºæ¥çš„é‚£ä¸¤ä¸ªå•¦~~ï¼ˆä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œpythonå¿…é¡»æ˜¯<strong>2.7.*</strong>çš„ç‰ˆæœ¬ï¼‰</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è£…å¥½å¹¶é…ç½®å®Œå‰é¢çš„ä¾èµ–å’Œç¯å¢ƒå˜é‡ä¹‹åï¼Œè¿è¡Œå›Firefoxæ–‡æ¡£ä¸­çš„å®‰è£…è¿‡ç¨‹ï¼šï¼ˆç›´æ¥Copy from ä¸Šé¢çš„é“¾æ¥ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/juj/emsdk.git</span><br><span class="line"><span class="built_in">cd</span> emsdk</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ Linux æˆ–è€… Mac OS X ä¸Š</span></span><br><span class="line">./emsdk install --build=Release sdk-incoming-64bit binaryen-master-64bit</span><br><span class="line">./emsdk activate --global --build=Release sdk-incoming-64bit binaryen-master-64bit</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ Windows ä¸Š</span></span><br><span class="line">emsdk install --build=Release sdk-incoming-64bit binaryen-master-64bit</span><br><span class="line">emsdk activate --global --build=Release sdk-incoming-64bit binaryen-master-64bit</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šWindows ç‰ˆæœ¬çš„ Visual Studio 2017 å·²ç»è¢«æ”¯æŒï¼Œä½†éœ€è¦åœ¨ emsdk install éœ€è¦è¿½åŠ  --vs2017 å‚æ•°ã€‚</span></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆç…§ç†è¯´åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡æˆ‘æ²¡æœ‰åˆ äº†é‡è£…ï¼Œæ‰€ä»¥ä¸æ•¢ç™¾åˆ†ç™¾ç¡®å®š</p>
<br>

<p>å®‰è£…å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±æ¥ç¼–è¯‘ä¸€ä¸ª hello worldå§ï¼š</p>
<p>æ–°å»º<code>hello.c</code>ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello World\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">emcc hello.c -s WASM=1 -o hello.html</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ç¼–è¯‘ç¨‹åºå°±ä¼šç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š<code>hello.wasm</code>ã€<code>hello.js</code>ã€<code>hello.html</code></p>
<p>éƒ½æŒºå¤æ‚çš„ğŸ˜‚ğŸ˜‚æˆ‘æ²¡è®¤çœŸçœ‹</p>
<p>ç„¶åæˆ‘ä»¬æ‰“å¼€<code>hello.html</code>ï¼ŒæŒ‰<code>F12</code>å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è¾“å‡ºå•¦~~</p>
<p>è¿™æ ·æˆ‘ä»¬å°±æˆåŠŸå®‰è£…äº†emsdkï¼Œå¯ä»¥æ„‰å¿«åœ°ç©è€WASMå•¦~~</p>
</div><div class="tags"><a href="/tags/WebAssembly/">WebAssembly</a></div><div class="post-nav"><a class="pre" href="/cktlcz14n0010kco2g6qv8fex/">æ„¿ä½ æˆ‘å°šæœ‰ä½™åœ°åšæ¢¦</a><a class="next" href="/cktlcz14i000qkco2234sj5ik/">å¿ƒä¸Šç‚¹ç‚¹ç§‹</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'H4H3950lA1Fthbi035SyDPz3-gzGzoHsz',
  appKey:'PfHYNRTMjosLxypwFjyz2PlN',
  placeholder:'comment...',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://silasfan.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/">Technology</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æ¼«æƒ³/">æ¼«æƒ³</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/GraphQL/" style="font-size: 15px;">GraphQL</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/WebAssembly/" style="font-size: 15px;">WebAssembly</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/JAVA/" style="font-size: 15px;">JAVA</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/cktlcz14s0019kco28jxdf2ny/">èŠèŠçœ‹VUPè¿™ä»¶äº‹</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14n0010kco2g6qv8fex/">æ„¿ä½ æˆ‘å°šæœ‰ä½™åœ°åšæ¢¦</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz146000akco2eo9spj3r/">Install wasm in Win10</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14i000qkco2234sj5ik/">å¿ƒä¸Šç‚¹ç‚¹ç§‹</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1450009kco2b3cfhsv0/">flexçš„ä¸¤ä¸ªå°å‘è®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1410006kco2aritcet1/">Vuexå­¦ä¹ ç¬”è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14c000hkco2pftpxxbo/">New Blog,New Lifeâ€”â€”hexoå…¥å‘æŒ‡åŒ—</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz1400005kco2x94o4cpw/">Spring boot+graphql+Mongodbæ„å»º</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14l000xkco2qvbbowna/">æ˜¯é€‚åˆè·‘æ­¥çš„æ—¥å­å•Š</a></li><li class="post-list-item"><a class="post-list-link" href="/cktlcz14u001dkco23qy61ze2/">è¸ç€ç°è‰²çš„è½¨è¿¹</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="https://www.xzclip.cn/" title="æŸé¸¡å·¨ä½¬" target="_blank">æŸé¸¡å·¨ä½¬</a><ul></ul><a href="https://www.huww98.cn/" title="å¤§ä½¬" target="_blank">å¤§ä½¬</a><ul></ul><a href="http://www.guohere.com/" title="æŸæœ" target="_blank">æŸæœ</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Fetter Copyright Â© 2021<br> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><br><a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">ç²¤ICPå¤‡ 17148289å·</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>